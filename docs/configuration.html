
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration &mdash; Pecan v0.0.1 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Pecan v0.0.1 documentation" href="index.html" />
    <link rel="next" title="&lt;no title&gt;" href="templates.html" />
    <link rel="prev" title="Validation and Error Handling" href="validation_n_errors.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="templates.html" title="&lt;no title&gt;"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="validation_n_errors.html" title="Validation and Error Handling"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Pecan v0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuration">
<span id="id1"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Pecan is very easy to configure. As long as you follow certain conventions;
using, setting and dealing with configuration should be very intuitive.</p>
<p>Python files is what the framework uses to get the values from configuration
files. These files need to specify the values in a key/value way (Python
dictionaries) or if you need simple one-way values you can also specify them as
direct variables (more on that below).</p>
<p>Even if you want custom configuration values, you need to get them in the
configuration file as dictionaries.</p>
<div class="section" id="no-configuration">
<h2>No Configuration<a class="headerlink" href="#no-configuration" title="Permalink to this headline">¶</a></h2>
<p>What happens when no configuration is passed? Or if you are missing some values?
Pecan fills in anything that you might have left behind, like specific values or
even if you leave them out completely. This includes
<strong>app</strong> and <strong>server</strong> but will not, however, include any custom configurations.</p>
</div>
<div class="section" id="defaults">
<h2>Defaults<a class="headerlink" href="#defaults" title="Permalink to this headline">¶</a></h2>
<p>Below is the complete default values the framework uses:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;port&#39;</span> <span class="p">:</span> <span class="s">&#39;8080&#39;</span><span class="p">,</span>
    <span class="s">&#39;host&#39;</span> <span class="p">:</span> <span class="s">&#39;0.0.0.0&#39;</span>
<span class="p">}</span>

<span class="n">app</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;root&#39;</span> <span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s">&#39;static_root&#39;</span> <span class="p">:</span> <span class="s">&#39;public&#39;</span><span class="p">,</span>
    <span class="s">&#39;template_path&#39;</span> <span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="s">&#39;debug&#39;</span> <span class="p">:</span> <span class="bp">False</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="application-configuration">
<span id="id2"></span><h2>Application Configuration<a class="headerlink" href="#application-configuration" title="Permalink to this headline">¶</a></h2>
<p>This is the part of the configuration that is specific to your application.
Things like debug mode, Root Controller and possible Hooks, should be specified
here. This is what is used when the framework is wrapping your application into
a valid WSGI app.</p>
<p>A typical application configuration would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;root&#39;</span> <span class="p">:</span> <span class="n">RootController</span><span class="p">(),</span>
    <span class="s">&#39;static_root&#39;</span> <span class="p">:</span> <span class="s">&#39;public&#39;</span><span class="p">,</span>
    <span class="s">&#39;template_path&#39;</span> <span class="p">:</span> <span class="s">&#39;project/templates&#39;</span><span class="p">,</span>
    <span class="s">&#39;debug&#39;</span> <span class="p">:</span> <span class="bp">True</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Let&#8217;s look at each value and what it means:</p>
<p><strong>app</strong> is a reserved variable name for the configuration, so make sure you are
not overriding, otherwise you will get default values.</p>
<p><strong>root</strong> Needs the Root Controller of your application, this where your main
class that points to all the spots in your application should be. Rememeber
that you are passing the actual object so you would need to import it at the
top of the file. In the example configuration, this would be something like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">myproject.controllers.root</span> <span class="kn">import</span> <span class="n">RootController</span>
</pre></div>
</div>
<p><strong>static_root</strong> Points to the directory where your static files live in.</p>
<p><strong>template_path</strong> The path where your templates are.</p>
<p><strong>debug</strong> Enables <tt class="docutils literal"><span class="pre">WebError</span></tt> to have full tracebacks in the browser (this is
OFF by default).</p>
<p>Any application specifics should go in here in the case that your environment
required it.</p>
</div>
<div class="section" id="server-configuration">
<span id="id3"></span><h2>Server Configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h2>
<p>Depending on the WSGI server you choose, you will need some values. As shown
before, Pecan has already some defaults and they would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">server</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;port&#39;</span> <span class="p">:</span> <span class="s">&#39;8080&#39;</span><span class="p">,</span>
    <span class="s">&#39;host&#39;</span> <span class="p">:</span> <span class="s">&#39;0.0.0.0&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>There is not too much going on there, it is just specifying the port and the
host it should use to serve the application. Any other values that you might
need can get added as key/values to that same dictionary so the server of your
choosing can use them.</p>
</div>
<div class="section" id="accessibility">
<span id="id4"></span><h2>Accessibility<a class="headerlink" href="#accessibility" title="Permalink to this headline">¶</a></h2>
<p>You can access any configuration values at runtime importing <tt class="docutils literal"><span class="pre">conf</span></tt> from
<tt class="docutils literal"><span class="pre">pecan</span></tt>. This includes custom, application and server specific values.
Below is an example on how to access those values for an application:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pecan</span> <span class="kn">import</span> <span class="n">conf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">root</span>
<span class="go">&lt;test_project.controllers.root.RootController object at 0x10292b0d0&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">static_root</span>
<span class="go">&#39;public&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">template_path</span>
<span class="go">&#39;test_project/templates&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">app</span><span class="o">.</span><span class="n">debug</span>
<span class="go">True</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-and-single-values">
<h2>Custom and Single Values<a class="headerlink" href="#custom-and-single-values" title="Permalink to this headline">¶</a></h2>
<p>There might be times when you do not need to have a dictionary to specify some
values because all you need is a simple key that holds a value. For example, if
you needed to specify a global administrator, you could do so like this within
the configuration file:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">administrator</span> <span class="o">=</span> <span class="s">&#39;foo_bar_user&#39;</span>
</pre></div>
</div>
<p>And it would be accessible like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;&gt; from pecan import conf</span>
<span class="go">&gt;&gt;&gt;&gt; conf.administrator</span>
<span class="go">&#39;foo_bar_user&#39;</span>
</pre></div>
</div>
<p>Similarly, if I had a custom <tt class="docutils literal"><span class="pre">foo</span></tt> entry on my configuration file once the
app is running I can access <tt class="docutils literal"><span class="pre">foo</span></tt> values like:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pecan</span> <span class="kn">import</span> <span class="n">conf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">foo</span><span class="o">.</span><span class="n">baz</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conf</span><span class="o">.</span><span class="n">foo</span>
<span class="go">Config({&#39;bar&#39;: True, &#39;baz&#39;: False})</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#no-configuration">No Configuration</a></li>
<li><a class="reference internal" href="#defaults">Defaults</a></li>
<li><a class="reference internal" href="#application-configuration">Application Configuration</a></li>
<li><a class="reference internal" href="#server-configuration">Server Configuration</a></li>
<li><a class="reference internal" href="#accessibility">Accessibility</a></li>
<li><a class="reference internal" href="#custom-and-single-values">Custom and Single Values</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="validation_n_errors.html"
                        title="previous chapter">Validation and Error Handling</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="templates.html"
                        title="next chapter">&lt;no title&gt;</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="templates.html" title="&lt;no title&gt;"
             >next</a> |</li>
        <li class="right" >
          <a href="validation_n_errors.html" title="Validation and Error Handling"
             >previous</a> |</li>
        <li><a href="index.html">Pecan v0.0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Jonathan LaCour.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>